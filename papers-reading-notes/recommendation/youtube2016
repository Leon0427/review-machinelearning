## notes

1. 双模型系统，一个从亿级视频中初筛出几百个候选集，另一个对几百个候选集排序，选出推荐给用户的视频；
2. 对用户、视频的embedding是对因式分解的一种一般化；
3. 将初筛问题当做是多分类问题，模型预测的结果是用户看所有视频中的一个的概率；
4. 对负样本进行采样、权重平衡，加速训练；
5. 使用hash方法降低serving的复杂度，在线预测的时候不需要softmax，初筛任务退化成内积空间中的K近邻寻找；
6. 用户的观看历史特征用所有观看过的视频的embedding的均值表示；
7. 稀疏特征使用embedding映射到稠密向量；
8. 样本寿命特征，使模型对时间窗口中的时间段数据分布敏感；
9. 样本包括所有观看场景，包括诸多如其他网站的嵌入视频等种种非推荐场景，以便发现用户新喜好，通过协同过滤实现病毒式传播
10. 丢弃了观看时序信息，提升用户体验；
11. normalize连续特征x到[0,1)区间，然后输入x^2, x(1/2),利于神经网络拟合超线性和亚线性函数；
12. 为期望观看时间建模：∑T/N是期望观看时间，即总观看时间处以样本数量;∑T/N * (N/N-k)其中k是观看了的样本；第二个式子约等于E(T)*(1+P)
13. 定义了一个叫做“weighted, per-user loss”的metric，考核模型评分比负样本低的正样本的观看时长和占总观看时长的占比。
14. 深度模型的宽度与深度matters。